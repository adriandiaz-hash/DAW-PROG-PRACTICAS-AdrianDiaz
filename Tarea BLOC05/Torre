package com.mycompany.principal;

/*[T] @autor Adrián Díaz. */
// Subclase de Ficha que implementa el movimiento en línea recta.
// En el modo avanzado, gestiona la mecánica de 'turno extra' contabilizando los pasos realizados.

public class Torre extends Ficha {
    private int turnoExtra;
    private int contarPasos = 0;

    public Torre(char color, Casilla posicion, int turnoExtra) {
        super(color, posicion);
        this.turnoExtra = turnoExtra;
    }
    public int getTurnoExtra() {
        return turnoExtra;
    }
    public void setTurnoExtra(int turnoExtra) {
        this.turnoExtra = turnoExtra;
    }
    @Override
    public boolean moverA(Casilla casilla) {
        int filaActual = getPosicion().getFila();
        int columnaActual = getPosicion().getColumna();
        int filaDestino = casilla.getFila();
        int columnaDestino = casilla.getColumna();
        boolean movimientoValido = false;

        if (movimientoValido = filaActual == filaDestino || columnaActual == columnaDestino) {
            contarPasos++;
            return movimientoValido;
        } else {
            return false;
        }
    }
    public boolean tieneTurnoExtra() {
        if (contarPasos >= turnoExtra) {
            contarPasos = 0; // Reiniciar el contador después de otorgar el turno extra
            return true;
        } else {
            return false;
        }
    }
}