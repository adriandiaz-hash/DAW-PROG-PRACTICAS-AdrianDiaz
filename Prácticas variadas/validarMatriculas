/* @autor [T] Adrián Díaz García */

import java.util.Scanner;
import java.util.InputMismatchException;
import java.util.regex.Pattern;
import java.util.regex.Matcher;

public class ValidarMatriculas {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);

        final int MAX_Matriculas = 5;
        int contador = 0;
        String[] matriculasValidas = new String[MAX_Matriculas];

        System.out.print("----Validación de Matrículas----\n");

        while (contador < MAX_Matriculas) {
            System.out.print("Introduce una matrícula: ");
            String matricula = sc.nextLine();

            String patronMatricula = "^[0-9]{4}[A-Z]{3}$";

            try {
            validarMatricula(matricula, patronMatricula);
            matriculasValidas[contador] = matricula;
            contador++;
            System.out.println("--> Guardada. Llevamos " + contador + "/5.");
            } catch (InputMismatchException e) {
                System.out.println("Error: " + e.getMessage());
            }
        }           
        
        System.out.println("¡Array completo!");
    }

    public static void validarMatricula(String matricula, String patron) {

        if (!matricula.matches(patron)) {
            throw new InputMismatchException("La matrícula no cumple con el formato esperado.");
        }
    }
}